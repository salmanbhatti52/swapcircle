"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1508],{1508:(v,h,l)=>{l.r(h),l.d(h,{OtpPageModule:()=>M});var c=l(6895),a=l(433),u=l(950),m=l(1407),e=l(8256),C=l(9953);function p(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",3,4),e.NdJ("paste",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handlePaste(i))})("keyup",function(i){const f=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.onKeyUp(i,f))})("input",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onInput(i))})("keydown",function(i){const f=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.onKeyDown(i,f))}),e.qZA()}if(2&o){const t=s.$implicit,n=s.index,i=e.oxw(2);e.Gre("otp-input ",i.config.inputClass,""),e.hYB("id","otp_",n,"_",i.componentKey,""),e.Q6J("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[t])}}function g(o,s){if(1&o&&(e.TgZ(0,"div",1),e.YNc(1,p,2,10,"input",2),e.ALo(2,"keys"),e.qZA()),2&o){const t=e.oxw();e.Gre("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.MGl("id","c_",t.componentKey,""),e.Q6J("ngStyle",t.config.containerStyles),e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,6,null==t.otpForm?null:t.otpForm.controls))}}class y{static ifBackspaceOrDelete(s){return this.ifKey(s,"Backspace;Delete;Del")}static ifRightArrow(s){return this.ifKey(s,"ArrowRight;Right")}static ifLeftArrow(s){return this.ifKey(s,"ArrowLeft;Left")}static ifSpacebar(s){return this.ifKey(s,"Spacebar; ")}static ifKey(s,t){return t.split(";").some(i=>i===s.key)}}let _=(()=>{class o{transform(t){return Object.keys(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"keys",type:o,pure:!0}),o})(),w=(()=>{class o{constructor(t){this.keysPipe=t,this.config={length:4},this.onInputChange=new e.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){var t,n;return null!==(t=this.config)&&void 0!==t&&t.isPasswordInput?"password":null!==(n=this.config)&&void 0!==n&&n.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new a.cw({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new a.NI);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(n=>{var i=this.otpForm.controls[n].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=document.getElementById(`c_${this.componentKey}`);if(t){const n=t.getElementsByClassName("otp-input")[0];n&&n.focus&&n.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,n){if(y.ifSpacebar(t))return t.preventDefault(),!1}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,n){const i=this.appendKey(`otp_${n+1}`),r=this.appendKey("otp_"+(n-1));return y.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(i)):y.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(r)):y.ifBackspaceOrDelete(t)&&!t.target.value?(this.setSelected(r),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(i),this.rebuildValue()))}validateNumber(t){return t&&/^\d*\.?\d*$/.test(t)}appendKey(t){return`${t}_${this.componentKey}`}setSelected(t){this.focusTo(t);const n=document.getElementById(t);n&&n.setSelectionRange&&setTimeout(()=>{n.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const n=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(n)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(t.keyCode)}focusTo(t){const n=document.getElementById(t);n&&n.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((i,r)=>{this.otpForm.get(this.getControlName(r))&&this.otpForm.get(this.getControlName(r)).setValue(i)}),!this.config.disableAutoFocus){const i=document.getElementById(`c_${this.componentKey}`);var n=t.length<this.config.length?t.length:this.config.length-1;let r=i.getElementsByClassName("otp-input")[n];r&&r.focus&&r.focus()}this.rebuildValue()}}rebuildValue(){var t;let n="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let r=this.otpForm.controls[i].value,f=r.length>1,d=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());r=r[0];let x=d?"upper"==this.config.letterCase.toLocaleLowerCase()?r.toUpperCase():r.toLowerCase():r;d&&x==r?d=!1:r=x,n+=r,(f||d)&&this.otpForm.controls[i].setValue(r)}}),!(null===(t=this.formCtrl)||void 0===t)&&t.setValue&&this.formCtrl.setValue(n),this.onInputChange.emit(n),this.currentVal=n}handlePaste(t){let n=t.clipboardData||window.clipboardData;if(n)var i=n.getData("Text");t.stopPropagation(),t.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,n){1&t&&e.YNc(0,g,3,8,"div",0),2&t&&e.Q6J("ngIf",null==n.otpForm?null:n.otpForm.controls)},dependencies:[c.O5,c.PC,c.sg,a.Fj,a.c5,a.JJ,a.oH,_],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[_],imports:[[c.ez,a.u5,a.UX]]}),o})();const P=function(){return{length:4,allowNumbersOnly:!0}},I=[{path:"",component:(()=>{class o{constructor(t,n){this.navCtrl=t,this.extra=n}ngOnInit(){this.userEmail=localStorage.getItem("emailonforgot")}goNext(){localStorage.getItem("otp")==this.otp?this.navCtrl.navigateRoot("resetpassword"):this.extra.presentToast("OTP doesn't match")}onOtpChange(t){console.log(t,"eventevent"),this.otp=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.SH),e.Y36(C.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-otp"]],decls:12,vars:3,consts:[[1,"wrapper"],[2,"margin-top","10px","width","100%","text-align","center"],["src","assets/imgs/logo.svg",2,"height","72px","width","176px"],[1,"text1","EudoxusSansReg"],[1,"text2","EudoxusSansReg"],[2,"display","flex","justify-content","center","margin-top","20%"],[3,"config","onInputChange"],[1,"btnbggreen","EudoxusSansReg",2,"margin","50px 0px 15px 0px",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Forgot Password?"),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"ion-row",5)(9,"ng-otp-input",6),e.NdJ("onInputChange",function(r){return n.onOtpChange(r)}),e.qZA()(),e.TgZ(10,"ion-button",7),e.NdJ("click",function(){return n.goNext()}),e._uU(11,"Reset"),e.qZA()()()),2&t&&(e.xp6(7),e.hij("Please enter 4 digit code you received on ",n.userEmail,""),e.xp6(2),e.Q6J("config",e.DdM(2,P)))},dependencies:[u.YG,u.W2,u.Nd,w],styles:[".wrapper[_ngcontent-%COMP%]{width:90%;margin:15% auto 0%}.text1[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:32px;color:#4bd16f;display:flex;justify-content:center;margin-top:15%}.text2[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:17px;color:#969d9f;display:flex;justify-content:center;margin-top:2%;text-align:center}"]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(I),m.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,a.u5,u.Pc,N,O]}),o})()},9953:(v,h,l)=>{l.d(h,{e:()=>m});var c=l(655),a=l(8256),u=l(950);let m=(()=>{class e{constructor(p,g){this.toastCtrl=p,this.loadingCtrl=g}presentToast(p){return(0,c.mG)(this,void 0,void 0,function*(){return this.toast=!0,yield this.toastCtrl.create({message:p,duration:2e3,position:"bottom"}).then(g=>{g.present().then(()=>{console.log("presented"),this.toast||g.dismiss().then(()=>console.log("abort presenting"))})})})}loadershow(p){return(0,c.mG)(this,void 0,void 0,function*(){this.loadingCtrl.create({cssClass:"loadingdiv",message:""}).then(g=>{g.present()})})}hideLoader(){this.loadingCtrl.dismiss().then(p=>{console.log("Loading dismissed!",p)}).catch(p=>{console.log("error",p)})}}return e.\u0275fac=function(p){return new(p||e)(a.LFG(u.yF),a.LFG(u.HT))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);