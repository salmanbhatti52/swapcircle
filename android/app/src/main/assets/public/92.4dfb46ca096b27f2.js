"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[92],{92:(y,c,r)=>{r.r(c),r.d(c,{EditprofilePageModule:()=>w});var m=r(6895),n=r(433),l=r(950),u=r(1407),g=r(655),d=r(6388),e=r(8256),h=r(5830),f=r(9953);const x=[{path:"",component:(()=>{class i{constructor(o,t,s,a){this.location=o,this.alertCtrl=t,this.rest=s,this.extra=a,this.RegisterForm=n.cw,this.oldpass="",this.newpass="",this.confirmpass="",this.profileimage="assets/imgs/userprofile.svg"}ngOnInit(){}chooseImage(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Upload Image",cssClass:"camera-alert",buttons:[{text:"Camera",handler:()=>(0,g.mG)(this,void 0,void 0,function*(){console.log("came inside Camera"),yield d.V1.getPhoto({quality:75,allowEditing:!1,resultType:d.dk.DataUrl,source:d.oK.Camera}).then(s=>{this.profileimage=s.dataUrl,this.picurl=s.dataUrl;let a=this.picurl1.split(",");"Company"==localStorage.getItem("customertype")?this.validdocument=a[1]:this.userprofile=a[1],this.updateprofile()})})},{text:"Gallery",handler:()=>(0,g.mG)(this,void 0,void 0,function*(){console.log("came inside yes"),yield d.V1.getPhoto({quality:75,allowEditing:!1,resultType:d.dk.DataUrl,source:d.oK.Photos}).then(s=>{this.profileimage=s.dataUrl,this.picurl1=s.dataUrl,console.log("image uri==",s.dataUrl);let a=this.picurl1.split(",");this.userprofile=a[1],"Company"==localStorage.getItem("customertype")?this.validdocument=a[1]:this.userprofile=a[1],this.updateprofile()})})}]})).present()})}updateprofile(){let o;this.extra.loadershow(),o="Company"==localStorage.getItem("customertype")?{users_customers_id:localStorage.getItem("user_id"),company_name:localStorage.getItem("fname"),first_name:localStorage.getItem("sname"),last_name:localStorage.getItem("sname"),phone:localStorage.getItem("num"),email:localStorage.getItem("email"),location:localStorage.getItem("address"),notifications:"Yes",valid_document:this.validdocument,profile_pic:this.userprofile}:{users_customers_id:localStorage.getItem("user_id"),first_name:localStorage.getItem("fname"),last_name:localStorage.getItem("sname"),phone:localStorage.getItem("num"),email:localStorage.getItem("email"),location:localStorage.getItem("address"),notifications:"Yes",valid_document:this.validdocument,profile_pic:this.userprofile},this.rest.sendRequest("update_profile",o).subscribe(t=>{console.log("response--",t),this.extra.hideLoader(),"success"==t.status||this.extra.presentToast(t.message)},t=>{console.log("error response--",t),this.extra.hideLoader()})}goback(){this.location.back()}goNext(){if(""==this.oldpass)this.extra.presentToast("Old password required");else if(""==this.newpass)this.extra.presentToast("New password required");else if(""==this.confirmpass)this.extra.presentToast("Confirm password required");else{let o={email:localStorage.getItem("email"),old_password:this.oldpass,password:this.newpass,confirm_password:this.confirmpass};this.rest.sendRequest("change_password",o).subscribe(t=>{console.log("response--",t),this.extra.hideLoader(),"success"==t.status||this.extra.presentToast(t.message)},t=>{console.log("error response--",t),this.extra.hideLoader()})}}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(m.Ye),e.Y36(l.Br),e.Y36(h.s),e.Y36(f.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editprofile"]],decls:33,vars:4,consts:[[1,"ion-no-border"],[2,"--background","#e9f5ec"],[2,"width","95%","margin","0% auto"],["size","2"],["src","assets/imgs/arrow_back_ios_new.svg",2,"margin-top","3px",3,"click"],["size","8"],[1,"EudoxusSansReg",2,"font-weight","700","font-size","20px","color","#21333B","text-align","center"],[1,"wrapper"],[2,"display","flex","justify-content","center"],[2,"position","relative","width","188px","height","188px"],[2,"border-radius","90%","width","188px","height","188px",3,"src"],["src","assets/imgs/addicon.svg",2,"position","absolute","bottom","-5px","right","20px",3,"click"],[2,"margin-top","15%"],[1,"text","EudoxusSansReg"],[2,"display","flex","margin-top","30px","text-align","center","justify-content","center","flex-direction","column","align-items","center"],[1,"inputfieldtransparent",2,"width","100%","height","64px","margin-top","0px","display","flex","border","1px solid #969D9F !important"],["src","/assets/signup/lock.svg",2,"margin","17px 17px 17px 15px"],["type","password","placeholder","Old password",1,"input","EudoxusSansReg",3,"ngModel","ngModelChange"],["src","/assets/signup/closeeye.svg",2,"margin","17px 17px 17px 15px"],[1,"inputfieldtransparent",2,"width","100%","height","64px","margin-top","20px","display","flex","border","1px solid #969D9F !important"],["type","password","placeholder","New password",1,"input","EudoxusSansReg",3,"ngModel","ngModelChange"],["type","password","placeholder","Confirm password",1,"input","EudoxusSansReg",3,"ngModel","ngModelChange"],[1,"btnbggreen","EudoxusSansReg",2,"margin","50px 0px 15px 0px",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-row",2)(3,"ion-col",3)(4,"img",4),e.NdJ("click",function(){return t.goback()}),e.qZA()(),e.TgZ(5,"ion-col",5)(6,"div",6),e._uU(7,"Edit Profile"),e.qZA()(),e._UZ(8,"ion-col",3),e.qZA()()(),e.TgZ(9,"ion-content",1)(10,"div",7)(11,"div",8)(12,"div",9),e._UZ(13,"img",10),e.TgZ(14,"img",11),e.NdJ("click",function(){return t.chooseImage()}),e.qZA()()(),e.TgZ(15,"div",12)(16,"div",13),e._uU(17,"Change Password"),e.qZA()(),e.TgZ(18,"div",14)(19,"div",15),e._UZ(20,"img",16),e.TgZ(21,"input",17),e.NdJ("ngModelChange",function(a){return t.oldpass=a}),e.qZA(),e._UZ(22,"img",18),e.qZA(),e.TgZ(23,"div",19),e._UZ(24,"img",16),e.TgZ(25,"input",20),e.NdJ("ngModelChange",function(a){return t.newpass=a}),e.qZA(),e._UZ(26,"img",18),e.qZA(),e.TgZ(27,"div",19),e._UZ(28,"img",16),e.TgZ(29,"input",21),e.NdJ("ngModelChange",function(a){return t.confirmpass=a}),e.qZA(),e._UZ(30,"img",18),e.qZA(),e.TgZ(31,"ion-button",22),e.NdJ("click",function(){return t.goNext()}),e._uU(32,"Save"),e.qZA()()()()),2&o&&(e.xp6(13),e.s9C("src",t.profileimage,e.LSH),e.xp6(8),e.Q6J("ngModel",t.oldpass),e.xp6(4),e.Q6J("ngModel",t.newpass),e.xp6(4),e.Q6J("ngModel",t.confirmpass))},dependencies:[n.Fj,n.JJ,n.On,l.YG,l.wI,l.W2,l.Gu,l.Nd,l.sr],styles:[".wrapper[_ngcontent-%COMP%]{width:90%;margin:10% auto}.text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;text-align:left;color:#000}"]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(x),u.Bz]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,n.u5,n.UX,l.Pc,v]}),i})()}}]);